---
phase: 01-foundation-4-hours
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - design-system/MASTER.md
  - src/app/globals.css
autonomous: true
requirements:
  - R1.1
  - R1.9
  - RM.6

must_haves:
  truths:
    - "design-system/MASTER.md exists with complete --re-* CSS variable token definitions"
    - "globals.css uses @custom-variant dark for Tailwind v4 dark mode (not darkMode config)"
    - "globals.css defines all --re-* tokens from MASTER.md in :root"
    - "globals.css maps --re-* tokens to Tailwind utilities via @theme inline"
    - "shadcn/ui is initialized and components are installed"
    - "Zero hardcoded hex colors remain in globals.css — all via CSS variables"
  artifacts:
    - path: "design-system/MASTER.md"
      provides: "UUPM-generated design token system — all --re-* CSS variable definitions, component specifications, dark SaaS aesthetic"
      min_lines: 80
    - path: "src/app/globals.css"
      provides: "Tailwind v4 CSS with @custom-variant dark, --re-* tokens, @theme inline mappings"
      contains: "@custom-variant dark"
    - path: "src/components/ui/"
      provides: "shadcn/ui component files (button, input, label, dropdown-menu, tooltip, avatar, separator)"
  key_links:
    - from: "src/app/globals.css"
      to: "design-system/MASTER.md"
      via: "--re-* CSS variables defined in MASTER.md and applied in globals.css"
      pattern: "--re-"
    - from: "src/components/ui/"
      to: "src/app/globals.css"
      via: "shadcn/ui components use CSS variables defined in globals.css"
      pattern: "var\\(--"
---

<objective>
Generate the UUPM design system and configure the visual foundation for all UI work. This plan produces design-system/MASTER.md (the design token source of truth), rewrites globals.css for Tailwind v4 with proper dark mode and --re-* tokens, and installs shadcn/ui components.

Purpose: CLAUDE.md mandates reading design-system/MASTER.md before building ANY UI. Every subsequent plan that touches UI depends on these tokens being defined first. No hardcoded colors — ever.
Output: design-system/MASTER.md, corrected globals.css, shadcn/ui component library.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/REQUIREMENTS.md
@.planning/phases/01-foundation-4-hours/01-CONTEXT.md
@.planning/phases/01-foundation-4-hours/01-RESEARCH.md

CRITICAL RULES (from CLAUDE.md):
- Read design-system/MASTER.md before building any UI
- All design tokens are CSS variables prefixed --re-
- No hardcoded hex colors in components — ever
- Tailwind v4: no tailwind.config.js, use @custom-variant in globals.css
- shadcn/ui detects Tailwind v4 automatically via npx shadcn@latest init

DESIGN AESTHETIC (from CONTEXT.md — locked decisions):
- Dark mode SaaS dashboard (default dark, not toggled light)
- Linear/Vercel aesthetic — clean, minimal, precise
- Collapsible sidebar: 240px expanded, 64px icon rail collapsed
- CSS variable prefix: --re-

UUPM SKILL: This task invokes /ui-ux-pro-max to generate the design system. The skill produces a comprehensive design token document.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate UUPM design system via /ui-ux-pro-max skill</name>
  <files>
    design-system/MASTER.md
  </files>
  <action>
Invoke the /ui-ux-pro-max skill to generate the RemixEngine design system.

Run the skill with this context brief:
- Product: RemixEngine — YouTube content remixing SaaS dashboard
- Aesthetic: Dark mode first, Linear/Vercel aesthetic — minimal, precise, dark
- Base: shadcn/ui component library
- CSS variable prefix: --re- (ALL tokens must use this prefix)
- Color space: HSL values (no hex, no OKLCH for custom tokens)
- Sidebar: Collapsible — 240px expanded, 64px icon rail collapsed
- Nav: Projects, Queue, Analytics (main), Admin + Settings (bottom)
- Key dimensions: --re-sidebar-width: 240px, --re-sidebar-width-collapsed: 64px

The skill output becomes design-system/MASTER.md. The file must define:
1. Color tokens: --re-bg-primary (main background), --re-bg-secondary (card/panel), --re-bg-sidebar (sidebar bg, slightly different from main), --re-bg-hover (interactive hover state), --re-accent-primary (blue, #3b82f6 range), --re-accent-secondary, --re-text-primary, --re-text-secondary, --re-text-muted, --re-border, --re-border-subtle, --re-destructive (red for errors/danger)
2. Spacing/sizing tokens: --re-sidebar-width (240px), --re-sidebar-width-collapsed (64px), --re-header-height (56px or 64px)
3. Typography tokens: --re-font-sans, --re-font-mono, --re-text-xs through --re-text-xl
4. Transition tokens: --re-transition-fast (150ms ease), --re-transition-base (200ms ease)
5. Shadow tokens: --re-shadow-sm, --re-shadow-md
6. Component specifications for: Sidebar (expanded/collapsed states), Header bar, Nav item (active/inactive/hover), Avatar, Card/panel

If /ui-ux-pro-max is unavailable, manually create design-system/MASTER.md with the above token definitions. Write it as a comprehensive design reference document with all CSS variable values defined for a dark SaaS dashboard.

Create design-system/ directory if it does not exist.
  </action>
  <verify>
    <automated>test -f /c/Antigravity/Sandbox/design-system/MASTER.md && wc -l /c/Antigravity/Sandbox/design-system/MASTER.md</automated>
  </verify>
  <done>
    design-system/MASTER.md exists with all --re-* token definitions listed above. File is at least 80 lines. All color values use hsl() format. All token names use --re- prefix. Dark SaaS aesthetic documented with specific HSL values.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure globals.css for Tailwind v4 + install shadcn/ui</name>
  <files>
    src/app/globals.css
  </files>
  <action>
COMPLETELY REWRITE src/app/globals.css to replace the scaffolded file. The current file uses hardcoded hex colors and @media prefers-color-scheme — both must be replaced.

The new globals.css must have exactly this structure (in order):

1. @import "tailwindcss"; (already exists — keep)

2. @custom-variant dark (&:is(.dark *)); — THIS IS REQUIRED for Tailwind v4 dark mode. next-themes sets .dark class on <html>. This replaces the old darkMode: 'class' config.

3. shadcn/ui base variables in :root and .dark blocks — let shadcn init handle these OR define them manually following shadcn Tailwind v4 pattern. These use --background, --foreground, --card, --primary, --muted, --border, etc. All as hsl() values.

4. RemixEngine --re-* tokens in :root — copy ALL tokens from design-system/MASTER.md:
   --re-bg-primary: hsl(240 10% 3.9%)
   --re-bg-secondary: hsl(240 5% 8%)
   --re-bg-sidebar: hsl(240 6% 6%)
   --re-bg-hover: hsl(240 5% 12%)
   --re-accent-primary: hsl(217 91% 60%)
   --re-accent-secondary: hsl(217 91% 50%)
   --re-text-primary: hsl(0 0% 98%)
   --re-text-secondary: hsl(240 5% 84%)
   --re-text-muted: hsl(240 5% 64.9%)
   --re-border: hsl(240 3.7% 15.9%)
   --re-border-subtle: hsl(240 3.7% 12%)
   --re-destructive: hsl(0 72% 51%)
   --re-sidebar-width: 240px
   --re-sidebar-width-collapsed: 64px
   --re-header-height: 56px
   --re-transition-fast: 150ms ease
   --re-transition-base: 200ms ease

5. @theme inline block — map --re-* variables to Tailwind color utilities:
   --color-re-bg-primary: var(--re-bg-primary);
   --color-re-bg-secondary: var(--re-bg-secondary);
   --color-re-bg-sidebar: var(--re-bg-sidebar);
   --color-re-bg-hover: var(--re-bg-hover);
   --color-re-accent-primary: var(--re-accent-primary);
   --color-re-text-primary: var(--re-text-primary);
   --color-re-text-secondary: var(--re-text-secondary);
   --color-re-text-muted: var(--re-text-muted);
   --color-re-border: var(--re-border);
   --color-re-destructive: var(--re-destructive);
   (Also include shadcn color mappings from their Tailwind v4 docs)

6. body { background: var(--re-bg-primary); color: var(--re-text-primary); font-family: var(--font-sans, Arial, sans-serif); }

REMOVE: All hardcoded hex values (#ffffff, #0a0a0a, etc.), @media prefers-color-scheme block.

After writing globals.css, install shadcn/ui and components:

Run: npx shadcn@latest init --yes (or with -d for defaults if interactive). shadcn detects Tailwind v4 automatically.

Then run: npx shadcn@latest add button input label dropdown-menu tooltip avatar separator

These commands install component files into src/components/ui/ and may update globals.css with shadcn base variables. After running, verify globals.css still has the @custom-variant dark line and all --re-* tokens (add them back if shadcn overwrote them).
  </action>
  <verify>
    <automated>cd /c/Antigravity/Sandbox && npx tsc --noEmit 2>&1 | head -20 && grep "@custom-variant dark" src/app/globals.css && grep -- "--re-accent-primary" src/app/globals.css && grep "@theme inline" src/app/globals.css && echo "globals.css OK"</automated>
  </verify>
  <done>
    globals.css contains @custom-variant dark line. globals.css contains all --re-* variables. @theme inline block maps tokens to Tailwind utilities. No hardcoded hex colors remain. shadcn/ui components installed in src/components/ui/. npx tsc --noEmit passes.
  </done>
</task>

</tasks>

<verification>
Check: design-system/MASTER.md exists and has --re-* token definitions.
Check: src/app/globals.css contains @custom-variant dark, all --re-* tokens, @theme inline block.
Check: grep -r "#[0-9a-fA-F]\{6\}" src/app/globals.css returns empty (no hex colors).
Check: src/components/ui/ directory contains shadcn component files.
Run: npx tsc --noEmit — must pass.
</verification>

<success_criteria>
- design-system/MASTER.md is the authoritative design token reference for all subsequent UI work
- globals.css uses Tailwind v4 patterns exclusively (no v3 patterns)
- All RemixEngine UI tokens use --re- prefix
- shadcn/ui component library is available for Phase 1 UI plans
- Zero hardcoded colors in globals.css
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-4-hours/01-02-SUMMARY.md` following the summary template.
</output>
